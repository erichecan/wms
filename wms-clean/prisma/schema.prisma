generator client {
  provider   = "prisma-client-js"
  engineType = "library"
}

datasource db {
  provider = "postgresql"
}

// Updated 2026-02-27T03:55:00Z - items JSON 字段支持一个 Bin 多个 SKU
model Bin {
  id          String    @id
  col         String
  layer       Int
  row         Int
  sku         String?
  quantity    Int       @default(0)
  items       Json      @default("[]")
  inboundTime DateTime? @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([col, row, layer])
}

// Updated 2026-02-27T05:18:00Z - 库位变化记录
model BinMoveLog {
  id         String   @id @default(cuid())
  sourceIds Json     // ["K1-L1-R1", "K1-L1-R2"]
  targetId  String   // K1-L1-R5
  movedAt   DateTime @default(now())
}

model Product {
  sku         String  @id
  name        String?
  description String?
  category    String?
}
